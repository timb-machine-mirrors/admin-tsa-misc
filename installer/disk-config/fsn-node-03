# open questions
# use sameas: to set all disk names earlier?

disk_config nvme0n1 disklabel:gpt-bios gpt_bios_part:1 bootable:2 align-at:1M
# bios grub second stage
primary -       8MiB    -       -
# /boot
primary -       512MiB  -       -
# rest is RAID+LUKS+LVM
primary -       0-      -       -

disk_config nvme1n1 disklabel:gpt-bios gpt_bios_part:1 bootable:2 align-at:1M
# same as above
primary -       8MiB    -       -
primary -       512MiB  -       -
primary -       0-      -       -

disk_config sda disklabel:gpt align-at:1M
primary -       0-      -       -

disk_config sdb disklabel:gpt align-at:1M
primary -       0-      -       -

disk_config raid fstabkey:uuid
raid1   /boot   nvme0n1p2,nvme1n1p2     ext4    rw,noatime,errors=remount-ro
raid1   -       nvme0n1p3,nvme1n1p3     -       -
raid1   -       sda1,sdb1       -       -

# FAI defaults to -c aes-xts-plain64 -s 256
disk_config cryptsetup
luks    -       /dev/md1        -       -
luks    -       /dev/md2        -       -

disk_config lvm fstabkey:uuid
# previous convention was "vg_$hostname"
vg      vg_nvme md1
vg_nvme-root    /       30G     ext4    rw
vg_nvme-swap    swap    1G      swap    sw

vg      vg_hdd  md2

# HDD disks config intentionally left blank
